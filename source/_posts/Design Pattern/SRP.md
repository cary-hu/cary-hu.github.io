---
title: 单一职责原则(Single responsibility principle(SRP))
date: 2021-01-29 19:14:02
tags:
---

在设计一个类的时候，应该只有一个引起他变化的原因，且应只完成一个任务（职责），如果一个类有一个以上的职责，那么这些职责就耦合在了一起，这会导致设计出来的代码不够健壮，当某一个职责发生变化的时候，可能会影响到其他的职责，另外，如果多个职责耦合在一起，将会影响到这个类的复用性。

## 优点

* 降低类的复杂性，单个类只负责单一的职责，逻辑相比较于负责多职责的类简单
* 提高类的可读性，提高代码的可维护性
* 提高类的复用性
* 降低代码变更带来的风险，修改某一个接口的功能的时候，降低该接口对其他接口功能的影响
  
## 难点

* 职责没有一个量化的标准，在划分单个类的职责时，需要从实际出发，以经验为准，对特定的项目进行特定的分析

## 示例

假设我现在在做一个学生信息管理系统，现有一个需求，要求提供修改学生基本信息的接口，于是我进行了如下设计：

~~~ c#
bool changeUserInfo(UserEntity student, string changeOption)
{
    // do something
}
~~~

该方法可以将changeOption中需要修改的参数，在函数体中进行逻辑处理，将其修改到student实体中，但是这样带来的问题就是，方法职责不清晰、不单一，较好的设计应该是，如果需要修改用户名，就调用修改用户名的API，需要修改家庭住址，就调用修改家庭住址的API，修改后的代码如下：

~~~ c#
bool changeUserName(string name)
{
    // do something
}
bool changeUserAddress(string address)
{
    // do something
}
~~~

如此设计，在后期的维护、修改、重构代码将会变得轻而易举，每个方法的职责清晰明确，开发难度也变低了。

## 图例

![单一职责原则](/images/DesignPattern/SRP.png)
